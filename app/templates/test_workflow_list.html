{% extends 'base.html' %}
{% block title %}Existing Workflows{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-8 offset-md-2">
    <h3>Existing Workflows</h3>
    <a href="{{ url_for('converters.new_workflow') }}" class="btn btn-success mb-3">+ New Workflow</a>
    <ul class="list-group mb-3">
      {% for wf in workflows %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ wf.name }}</span>
          <span>
            <form method="POST" action="{{ url_for('converters.delete_workflow', id=wf.id) }}" style="display:inline;">
              <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Delete this workflow?');">Delete</button>
            </form>
            <a href="{{ url_for('converters.execute_workflow', id=wf.id) }}" class="btn btn-sm btn-primary ms-1">Execute</a>
            <a href="{{ url_for('converters.audit_workflow', id=wf.id) }}" class="btn btn-sm btn-secondary ms-1">Audit Log</a>
            <a href="{{ url_for('converters.edit_workflow', id=wf.id) }}" class="btn btn-sm btn-warning ms-1">Edit</a>
            <form method="POST" action="{{ url_for('converters.clone_workflow', id=wf.id) }}" style="display:inline;" onsubmit="return confirm('Clone this workflow?');">
              <button type="submit" class="btn btn-sm btn-secondary ms-1">Clone</button>
            </form>
          </span>
        </li>
      {% else %}
        <li class="list-group-item">No workflows found.</li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %} 